const { MongoClient } = require("mongodb");

class MongoData {
    constructor() {
        this.client = new MongoClient("mongodb+srv://willb4516:YHKm75bZCWb9LrHX@enr-articles.dyg7qqy.mongodb.net/")
    }
  
    async addData(id, title, author, date, text) {
    var database = this.client.db("enr-db");
    const inputDate = new Date(date);
    const formattedDate = inputDate.toISOString().split('T')[0];

    var myobj = {
      _id: id,
      title: title,
      author: author,
      date: formattedDate,
      text: text,
    };

    await database.collection("enr-news").insertOne(myobj,  (err) => {
      if (err) throw err;
      console.log("1 document inserted");
    });
  }
}
module.exports = MongoData;